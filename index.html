<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multiple CCTV Streams (Auto-playing)</title>
    <link href="https://vjs.zencdn.net/7.15.4/video-js.css" rel="stylesheet" />
    <style>
        body {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f0f0f0;
            padding: 20px;
        }

        .video-container {
            margin: 10px;
        }
    </style>
</head>

<body>
    <div class="video-container">
        <video id="video1" class="video-js vjs-big-play-centered" controls preload="auto" width="320" height="180"
            data-setup='{"autoplay": true, "muted": true}'>
            <source src="http://localhost/cctv/video/camera1/camera1_output.m3u8" type="application/x-mpegURL">
        </video>
    </div>

    <div class="video-container">
        <video id="video2" class="video-js vjs-big-play-centered" controls preload="auto" width="320" height="180"
            data-setup='{"autoplay": true, "muted": true}'>
            <source src="http://localhost/cctv/video/camera2/camera2_output.m3u8" type="application/x-mpegURL">
        </video>
    </div>

    <div class="video-container">
        <video id="video3" class="video-js vjs-big-play-centered" controls preload="auto" width="320" height="180"
            data-setup='{"autoplay": true, "muted": true}'>
            <source src="http://localhost/cctv/video/camera3/camera3_output.m3u8" type="application/x-mpegURL">
        </video>
    </div>

    <div class="video-container">
        <video id="video4" class="video-js vjs-big-play-centered" controls preload="auto" width="320" height="180"
            data-setup='{"autoplay": true, "muted": true}'>
            <source src="http://localhost/cctv/video/camera4/camera4_output.m3u8" type="application/x-mpegURL">
        </video>
    </div>

    <div class="video-container">
        <video id="video5" class="video-js vjs-big-play-centered" controls preload="auto" width="320" height="180"
            data-setup='{"autoplay": true, "muted": true}'>
            <source src="http://localhost/cctv/video/camera5/camera5_output.m3u8" type="application/x-mpegURL">
        </video>
    </div>

    <div class="video-container">
        <video id="video6" class="video-js vjs-big-play-centered" controls preload="auto" width="320" height="180"
            data-setup='{"autoplay": true, "muted": true}'>
            <source src="http://localhost/cctv/video/camera6/camera6_output.m3u8" type="application/x-mpegURL">
        </video>
    </div>

    <div class="video-container">
        <video id="video7" class="video-js vjs-big-play-centered" controls preload="auto" width="320" height="180"
            data-setup='{"autoplay": true, "muted": true}'>
            <source src="http://localhost/cctv/video/camera7/camera7_output.m3u8" type="application/x-mpegURL">
        </video>
    </div>

    <div class="video-container">
        <video id="video8" class="video-js vjs-big-play-centered" controls preload="auto" width="320" height="180"
            data-setup='{"autoplay": true, "muted": true}'>
            <source src="http://localhost/cctv/video/camera8/camera8_output.m3u8" type="application/x-mpegURL">
        </video>
    </div>

    <div class="video-container">
        <video id="video9" class="video-js vjs-big-play-centered" controls preload="auto" width="320" height="180"
            data-setup='{"autoplay": true, "muted": true}'>
            <source src="http://localhost/cctv/video/camera9/camera9_output.m3u8" type="application/x-mpegURL">
        </video>
    </div>

    <div class="video-container">
        <video id="video10" class="video-js vjs-big-play-centered" controls preload="auto" width="320" height="180"
            data-setup='{"autoplay": true, "muted": true}'>
            <source src="http://localhost/cctv/video/camera10/camera10_output.m3u8" type="application/x-mpegURL">
        </video>
    </div>

    <script src="https://vjs.zencdn.net/7.15.4/video.min.js"></script>
    <script>
        // Inisialisasi semua player video
        var players = [];
        for (var i = 1; i <= 10; i++) {
            players.push(videojs('video' + i, {
                autoplay: true,
                muted: true
            }));
        }

        // Fungsi untuk memastikan semua video mulai diputar
        function playAllVideos() {
            players.forEach(function (player) {
                var promise = player.play();

                if (promise !== undefined) {
                    promise.catch(error => {
                        // Auto-play diblokir
                        // Tampilkan UI untuk meminta pengguna mengaktifkan auto-play
                        console.log("Auto-play diblokir oleh browser. Silakan aktifkan auto-play atau klik untuk memulai video.");
                    });
                }
            });
        }

        // Jalankan fungsi saat halaman dimuat
        window.addEventListener('load', playAllVideos);
    </script>
</body>

</html>
